---
import type { Product } from "../../lib/wix/types";
import GridItem from "../grid/grid-item.astro";
import GridTileImage from "../grid/tile.astro";

type Props = { products: Product[] };
---

{
  Astro.props.products.map((product) => (
    <GridItem class="animate-fadeIn">
      <a
        class="relative inline-block h-full w-full"
        href={`/product/${product.handle}`}
      >
        <GridTileImage
          alt={product.title}
          inferSize
          label={{
            title: product.title,
            amount: product.priceRange.maxVariantPrice.amount,
            currencyCode: product.priceRange.maxVariantPrice.currencyCode,
          }}
          src={product.featuredImage?.url}
          sizes="(min-width: 768px) 33vw, (min-width: 640px) 50vw, 100vw"
        />
      </a>
    </GridItem>
  ))
}
